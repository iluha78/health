# üì∏ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –§–æ—Ç–æ –µ–¥—ã –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –¥–Ω—è–º

## üéØ –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç

### 1. –§–æ—Ç–æ –µ–¥—ã —Å –∫–∞–ª–æ—Ä–∏—è–º–∏
- üì∏ –ó–∞–≥—Ä—É–∂–∞–µ—Ç–µ —Ñ–æ—Ç–æ ‚Üí AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–ª–æ—Ä–∏–∏
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç **—Å—É–º–º—ã –∫–∞–ª–æ—Ä–∏–π –∑–∞ –¥–µ–Ω—å**
- üìÖ –í—Å—è –∏—Å—Ç–æ—Ä–∏—è –ø–æ –¥–Ω—è–º
- ‚úèÔ∏è –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é (–±–µ–∑ —Ñ–æ—Ç–æ)

### 2. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∞
- üí° –í—Å–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è **–ø–æ –¥–Ω—è–º**
- üìÖ –ú–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–µ–Ω—å
- üìñ –ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –ø–æ –¥–Ω—è–º

---

## ‚ö° –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 3 –∫–æ–º–∞–Ω–¥—ã

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
./install_daily_nutrition.sh

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å (–∑–∞–º–µ–Ω–∏—Ç–µ TOKEN)
curl -H "Authorization: Bearer TOKEN" \
  http://localhost:8080/daily-food/$(date +%Y-%m-%d)

# 3. –ì–æ—Ç–æ–≤–æ!
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –∑–∞–≤—Ç—Ä–∞–∫–∞

```bash
curl -X POST http://localhost:8080/daily-food \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -F "photo=@breakfast.jpg" \
  -F "date=2025-11-07" \
  -F "time=08:30:00" \
  -F "note=–ó–∞–≤—Ç—Ä–∞–∫"
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–æ—Ç–æ
2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–ª—é–¥–æ: "–û–≤—Å—è–Ω–∫–∞ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏"
3. –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞–ª–æ—Ä–∏–∏: ~350 –∫–∫–∞–ª
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "date": "2025-11-07",
  "time": "08:30:00",
  "title": "–û–≤—Å—è–Ω–∫–∞ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏",
  "description": "–û–≤—Å—è–Ω–∫–∞ –Ω–∞ –º–æ–ª–æ–∫–µ —Å –±–∞–Ω–∞–Ω–æ–º –∏ —è–≥–æ–¥–∞–º–∏",
  "estimated_calories": 350,
  "note": "–ó–∞–≤—Ç—Ä–∞–∫"
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ–Ω—å —Å —Å—É–º–º–æ–π –∫–∞–ª–æ—Ä–∏–π

```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:8080/daily-food/2025-11-07
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "date": "2025-11-07",
  "photos": [
    {
      "id": 1,
      "time": "08:30:00",
      "title": "–û–≤—Å—è–Ω–∫–∞ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏",
      "estimated_calories": 350
    },
    {
      "id": 2,
      "time": "13:00:00",
      "title": "–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ —Å –æ–≤–æ—â–∞–º–∏",
      "estimated_calories": 420
    },
    {
      "id": 3,
      "time": "20:00:00",
      "title": "–ì—Ä–µ—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç",
      "estimated_calories": 280
    }
  ],
  "total_calories": 1050
}
```

### –ü—Ä–∏–º–µ—Ä 3: –î–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é (–±–µ–∑ —Ñ–æ—Ç–æ)

```bash
curl -X POST http://localhost:8080/daily-food \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "date": "2025-11-07",
    "time": "20:00:00",
    "title": "–ì—Ä–µ—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç",
    "description": "–ü–æ–º–∏–¥–æ—Ä—ã, –æ–≥—É—Ä—Ü—ã, —Ñ–µ—Ç–∞",
    "calories": 280,
    "note": "–£–∂–∏–Ω"
  }'
```

### –ü—Ä–∏–º–µ—Ä 4: –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é

```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:8080/daily-food-history?limit=7
```

**–û—Ç–≤–µ—Ç:**
```json
[
  { "date": "2025-11-07", "photos_count": 3, "total_calories": 1050 },
  { "date": "2025-11-06", "photos_count": 4, "total_calories": 1850 },
  { "date": "2025-11-05", "photos_count": 2, "total_calories": 890 }
]
```

### –ü—Ä–∏–º–µ—Ä 5: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é

```bash
curl -X POST http://localhost:8080/nutrition-advice \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "date": "2025-11-07",
    "focus": "–°–Ω–∏–∂–µ–Ω–∏–µ —Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω–∞"
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "advice": "–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–Ω–∏–∂–µ–Ω–∏—è —Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é...",
  "record": {
    "id": 1,
    "date": "2025-11-07",
    "focus": "–°–Ω–∏–∂–µ–Ω–∏–µ —Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω–∞",
    "advice": "–†–µ–∫–æ–º–µ–Ω–¥—É—é —É–≤–µ–ª–∏—á–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ..."
  }
}
```

### –ü—Ä–∏–º–µ—Ä 6: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∑–∞ –¥–µ–Ω—å

```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:8080/nutrition-advice/2025-11-07
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "date": "2025-11-07",
  "advices": [
    {
      "id": 1,
      "date": "2025-11-07",
      "focus": "–°–Ω–∏–∂–µ–Ω–∏–µ —Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω–∞",
      "advice": "–†–µ–∫–æ–º–µ–Ω–¥—É—é —É–≤–µ–ª–∏—á–∏—Ç—å..."
    },
    {
      "id": 2,
      "date": "2025-11-07",
      "focus": "–ü–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è",
      "advice": "–î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω–∞..."
    }
  ],
  "count": 2
}
```

---

## üé® Frontend (TypeScript)

```typescript
// –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
const uploadPhoto = async (file: File) => {
  const formData = new FormData();
  formData.append('photo', file);
  formData.append('date', '2025-11-07');
  formData.append('time', '08:30:00');

  const res = await fetch('/api/daily-food', {
    method: 'POST',
    headers: { 'Authorization': `Bearer ${token}` },
    body: formData
  });

  return res.json();
};

// –ü–æ–ª—É—á–∏—Ç—å –¥–µ–Ω—å —Å —Å—É–º–º–æ–π –∫–∞–ª–æ—Ä–∏–π
const getDay = async (date: string) => {
  const res = await fetch(`/api/daily-food/${date}`, {
    headers: { 'Authorization': `Bearer ${token}` }
  });

  const data = await res.json();
  console.log(`–í—Å–µ–≥–æ –∫–∞–ª–æ—Ä–∏–π: ${data.total_calories}`);
  return data;
};

// –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
const getAdvice = async (date: string, focus: string) => {
  const res = await fetch('/api/nutrition-advice', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ date, focus })
  });

  return res.json();
};
```

---

## üìã API Endpoints

### –§–æ—Ç–æ –µ–¥—ã

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/daily-food/{date}` | –ó–∞–ø–∏—Å–∏ –∑–∞ –¥–µ–Ω—å + —Å—É–º–º–∞ –∫–∞–ª–æ—Ä–∏–π |
| POST | `/daily-food` | –î–æ–±–∞–≤–∏—Ç—å (—Å —Ñ–æ—Ç–æ –∏–ª–∏ –≤—Ä—É—á–Ω—É—é) |
| GET | `/daily-food-history` | –ò—Å—Ç–æ—Ä–∏—è –ø–æ –¥–Ω—è–º |
| DELETE | `/daily-food/{id}` | –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å |

### –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/nutrition-advice/{date}` | –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∑–∞ –¥–µ–Ω—å |
| POST | `/nutrition-advice` | –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é |
| GET | `/nutrition-advice-history` | –ò—Å—Ç–æ—Ä–∏—è –ø–æ –¥–Ω—è–º |
| DELETE | `/nutrition-advice/{id}` | –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
backend/
‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ 006_daily_nutrition.sql           ‚Üê –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DailyFoodPhoto.php            ‚Üê –ú–æ–¥–µ–ª—å —Ñ–æ—Ç–æ –µ–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NutritionAdvice.php           ‚Üê –ú–æ–¥–µ–ª—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
‚îÇ   ‚îî‚îÄ‚îÄ Controllers/
‚îÇ       ‚îú‚îÄ‚îÄ DailyFoodPhotoController.php  ‚Üê API —Ñ–æ—Ç–æ –µ–¥—ã
‚îÇ       ‚îî‚îÄ‚îÄ NutritionAdviceController.php ‚Üê API –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
‚îî‚îÄ‚îÄ config/
    ‚îî‚îÄ‚îÄ routes.php                        ‚Üê –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- [ ] –ó–∞–ø—É—Å—Ç–∏–ª `./install_daily_nutrition.sh`
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª API
- [ ] –û–±–Ω–æ–≤–∏–ª frontend
- [ ] –£–¥–∞–ª–∏–ª —Å—Ç–∞—Ä—ã–π –∫–æ–¥

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—à–∫–∏

1. **–°—É–º–º–∞ –∫–∞–ª–æ—Ä–∏–π –∑–∞ –¥–µ–Ω—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è
2. **AI –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–ª—é–¥–æ –∏ –∫–∞–ª–æ—Ä–∏–∏
3. **–ü–æ –¥–Ω—è–º** - –≤—Å—ë –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ –ø–æ –¥–∞—Ç–∞–º
4. **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Å —Ñ–æ—Ç–æ –∏–ª–∏ –≤—Ä—É—á–Ω—É—é
5. **–ò—Å—Ç–æ—Ä–∏—è** - –≤–∏–¥–Ω–æ –≤—Å–µ –¥–Ω–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–ø–∏—Å–µ–π

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: **DAILY_NUTRITION_API.md**

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—Å–µ –∫–∞–ª–æ—Ä–∏–∏ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –¥–Ω—è–º! üéâ**
